#live-map {
    width: 100%;
    height: @map-height;
    overflow: hidden;
    position: relative;

    @media @s-only {
        padding-top: 141%;
        height: auto;
        overflow: visible;
        overflow: hidden; // quicke mobile fix
    }
}

.map {
    &__img {
        position: absolute;
        top: 0;
        left: 0;
        width: @map-width;
        height: @map-height;
        background: url(../images/map-overlay-l.jpg) no-repeat left top;
        background-size: 100% auto;

        .map--debug & {
            opacity:.7;
            pointer-events: none;
        }

        @media @s-only {
            width: 100%;
            height: 100%;
            background-image: url(../images/map-overlay-s.jpg);
        }
    }

    &__marker-container {
        width: @map-width;
        height: @map-height;
        position: absolute;
        left: 0;
        top: 0;

        @media @s-only {
            position: absolute;
            width: 227%;
            height: 100%;
            top: -2%;
            left: -23%;
        }
    }

    &__marker {
        position: absolute;
        transform: translate(-50%, -50%);

        &--current {
            background: @brand-pink;
            border-radius: 50%;
            width: 20px;
            height: 20px;
        }

        &--start {
            left: 400px;
            top: 495px;
            width: 70px;
            height: 70px;
            background: url('/assets/icons/map-marker-start.svg') center / auto 100% no-repeat transparent;

            @media @s-only {
                left: auto;
                top: auto;
                right: 10%;
                bottom: 3%;
                transform: none;
            }
        }

        &--finish {
            left: 165px;
            top: 120px;
            width: 70px;
            height: 70px;
            background: url('/assets/icons/map-marker-finish.svg') center / auto 100% no-repeat transparent;

            @media @s-only {
                left: 5%;
                top: auto;
                bottom: 74%;
                transform: none;
            }
        }

        &--highlighted-post {
            background: @white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
        }

        &--event {
            background: url('/assets/icons/map-marker-event.svg') center / auto 100% no-repeat transparent;
            width: 20px;
            height: 20px;
        }
    }
}

.map-wrapper {
    position: relative;
    margin-bottom: @margin-double;

    @keyframes show {
        0% {opacity: 0; transform: translateY(30px);}
        100% {opacity: 1; transform: translateY(0);}
    }

    @keyframes hide {
        0% {opacity: 1; transform: translateY(0);}
        100% {opacity: 0; transform: translateY(30px);}
    }

    .social-card {
        position: absolute;
        top: @margin-double;
        right: @margin-double;
        max-width: 290px;
        z-index: 1;

        &--show {
            animation: show .3s cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        &--hide {
            animation: hide .2s cubic-bezier(0.215, 0.61, 0.355, 1) 0s 1 normal both;
        }

        @media @s-only {
            position: relative;
            padding-left: 0;
            padding-right: 0;
            right: auto;
            top: auto;
            max-width: none;
            box-shadow: none;
        }
    }
}
